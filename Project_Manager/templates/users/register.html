{% extends 'users/base-auth.html' %}

{% block title %}
Регистрация
{% endblock title %}

{% block content %}
<style>
    .gradient-bg {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    .input-group {
        position: relative;
    }
    .input-icon {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: #818cf8;
    }
    .input-field {
        padding-left: 40px;
    }
</style>

<div class="w-full max-w-md">
    <div class="bg-white rounded-xl shadow-2xl overflow-hidden">
        <!-- Header -->
        <div class="bg-indigo-600 py-6 px-8 text-center relative">
            <a onclick="window.history.back();"><i class="fas fa-reply absolute scale-[2.3] top-1/2 left-6 transform -translate-y-1/2 text-white cursor-pointer">
            </i></a>
            <h1 class="text-2xl font-bold text-white">Создать аккаунт</h1>
        </div>
        
        <!-- Форма -->
        <form method="post" class="p-8">{% csrf_token %}

            {% for field in form %}
                {% if field.name == 'first_name' or field.name == 'last_name' %}
                    {% if forloop.first %}
                        <div class="grid grid-cols-2 gap-4 mb-6">
                    {% endif %}
                    
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="{{ field.id_for_label }}">
                            {{ field.label }}
                            {% if field.name in 'username email password1 password2' %}<span class="text-red-500">*</span>{% endif %}
                        </label>
                        <div class="input-group">
                            <i class="fas fa-user input-icon"></i>
                            {{ field }}
                        </div>
                            <div class="form_error">{{ field.errors }} </div>
                    </div>
                    
                    {% if forloop.counter == 2 %}
                        </div>
                    {% endif %}
                {% else %}
                    <div class="{{ field.field.widget.attrs.cls|default:'mb-6' }}">
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="{{ field.id_for_label }}">
                            {{ field.label }}
                            {% if field.name in 'username email password1 password2' %}<span class="text-red-500">*</span>{% endif %}
                        </label>
                        <div class="input-group">
                            <i class="fas {{ field.field.widget.attrs.fas }} input-icon"></i>
                            {{ field }}
                        </div>
                        {% if field.name == 'password1' %}
                            <p class="text-xs text-gray-500 mt-2">Минимум 8 символов</p>
                        {% endif %}
                        <div class="form_error">{{ field.errors }} </div>
                    </div>
                {% endif %}
            {% endfor %}

            <button 
                type="submit"
                class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-200 transform hover:scale-105"
            >
                Зарегистрироваться
            </button>
        </form>
        
        <!-- Подвал -->
        <div class="bg-gray-50 px-8 py-4 text-center">
            <p class="text-gray-600 text-base">
                Уже есть аккаунт? 
                <a href="{% url 'users:login' %}" class="text-indigo-600 font-medium hover:text-indigo-500">
                    Войти
                </a>
            </p>
        </div>
    </div>
    
    <!-- Регистрация через социальные сети (реализовать) -->

</div>

{% endblock content %}