{% load static %}
<style>
  .stars-container {
    position: relative;
    background-color: #0a1128;
    border-radius: 8px;
    padding: 8px 12px;
    overflow: hidden;
    height: 100%;
  }

  .stars,
  .stars-twinkle {
    position: absolute;
    width: 200%;
    height: 200%;
    top: -50%;
    left: -50%;
    background-repeat: repeat;
    pointer-events: none;
    z-index: 0;
    opacity: 0.4;
  }

  .stars {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 200%;
    /* Несколько звезд с разными позициями */
    background-image: 
      url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='10' cy='20' r='0.8' fill='white'/%3E%3Ccircle cx='30' cy='40' r='0.6' fill='white'/%3E%3Ccircle cx='70' cy='10' r='1' fill='white'/%3E%3Ccircle cx='90' cy='60' r='0.5' fill='white'/%3E%3C/svg%3E"),
      url("data:image/svg+xml,%3Csvg width='150' height='150' viewBox='0 0 150 150' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='20' cy='30' r='1.2' fill='white'/%3E%3Ccircle cx='60' cy='80' r='0.7' fill='white'/%3E%3Ccircle cx='110' cy='20' r='0.9' fill='white'/%3E%3C/svg%3E");
    background-size: 100px 100px, 150px 150px;
    animation: starfall 30s linear infinite;
    opacity: 0.9;
  }

  .stars-twinkle {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 300%;
    background-image: 
      url("data:image/svg+xml,%3Csvg width='120' height='120' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='10' cy='15' r='1.6' fill='white'/%3E%3Ccircle cx='30' cy='40' r='1.4' fill='white'/%3E%3Ccircle cx='60' cy='20' r='1.5' fill='white'/%3E%3C/svg%3E"),
      url("data:image/svg+xml,%3Csvg width='150' height='150' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='90' cy='80' r='1.7' fill='white'/%3E%3Ccircle cx='70' cy='100' r='1.5' fill='white'/%3E%3C/svg%3E"),
      url("data:image/svg+xml,%3Csvg width='180' height='180' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='20' cy='100' r='2.5' fill='white'/%3E%3Ccircle cx='100' cy='30' r='2.6' fill='white'/%3E%3C/svg%3E");
    background-size: 120px 120px, 150px 150px, 180px 180px;
    animation: 
      starfall-slow 36s linear infinite,
      starfall-medium 32s linear infinite,
      starfall-fast 26s linear infinite,
      twinkle 3s ease-in-out infinite;
    opacity: 0.3;
    mix-blend-mode: screen;
  }


  @keyframes starfall {
    0% {
      background-position: 0 0;
    }
    100% {
      background-position: 0 1000px;
    }
  }

  @keyframes starfall-slow {
    0% {
      background-position: 0 0;
    }
    100% {
      background-position: 0 800px;
    }
  }

  @keyframes starfall-slow {
    0% { transform: translateY(-100%) translateX(-10px); }
    100% { transform: translateY(100%) translateX(5px); }
  }

  @keyframes starfall-medium {
    0% { transform: translateY(-100%) translateX(5px); }
    100% { transform: translateY(100%) translateX(-8px); }
  }

  @keyframes starfall-fast {
    0% { transform: translateY(-100%) translateX(0); }
    100% { transform: translateY(100%) translateX(15px); }
  }

  @keyframes twinkle {
    0%, 100% { opacity: 0.2; }
    50% { opacity: 0.6; }
  }

  .hidden-email-text {
    color: white;
    position: relative;
    z-index: 10;
    text-align: center;
  }
</style>



<div class="text-center">
  <div class="mb-2">
    <img src="{{ profile.get_profile_picture_url }}" alt="Avatar" class="rounded-full mx-auto mb-4 bg-gray-800 w-32 h-32 object-cover" />

    <h2 class="text-xl font-bold">{{ user.username }}</h2>
    <p class="text-sm text-gray-500">{{ user.first_name }} {{ user.last_name }}</p>
    <div class="relative w-full max-w-xs h-10 mx-auto">
      {% if profile.hide_email %}
        <div class="stars-container w-[100%]">
          <p class="text-sm hidden-email-text">Скрыто пользователем</p>
          <div class="stars"></div>
          <div class="stars-twinkle"></div>
        </div>
      {% else %}
        <p class="text-sm text-gray-500">{{ user.email }}</p>
      {% endif %}
    </div>
  </div>
  <hr>
  <div class="flex justify-center space-x-4 mt-4 text-purple-600 text-lg">
    {% for social in social_links %}
    <a href="{{ social.link }}"><i class="fab {{ social.get_fa_name }}"></i></a>
    {% endfor %}
  </div>
  <div class="mt-4">
    <h3 class="text-sm font-semibold mb-2 text-gray-800">КРАТКОЕ ОПИСАНИЕ</h3>
    <p class="text-sm text-gray-600">
      {{ profile.short_description }}
    </p>
  </div>
</div>